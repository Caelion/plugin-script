<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3.dev">
<title>Skript</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Skript</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table des matières</div>
<ul class="sectlevel1">
<li><a href="#_plugin_konfiguration">1. Plugin Konfiguration</a></li>
<li><a href="#_geräte_konfiguration">2. Geräte Konfiguration</a></li>
<li><a href="#_le_choix_http">3. Le choix HTTP</a></li>
<li><a href="#_le_choix_html">4. Le choix HTML</a></li>
<li><a href="#_le_choix_xml">5. Le choix XML</a></li>
<li><a href="#_le_choix_json">6. Le choix JSON</a></li>
<li><a href="#_exemple_http_pilotage_d_une_vera">7. Exemple HTTP : Pilotage d&#8217;une Vera</a></li>
<li><a href="#_exemple_http_envoyer_une_notification_à_xbmc">8. Exemple HTTP : Envoyer une notification à XBMC</a></li>
<li><a href="#_skript_beispiel">9. Skript Beispiel</a>
<ul class="sectlevel2">
<li><a href="#_die_parameter">9.1. Die Parameter</a></li>
</ul>
</li>
<li><a href="#_einfaches_xml_beispiel">10. Einfaches XML Beispiel</a></li>
<li><a href="#_komplexes_xml_beispiel">11. Komplexes XML Beispiel</a></li>
<li><a href="#_json_beispiel">12. JSON Beispiel</a></li>
<li><a href="#_html_beispiel">13. HTML Beispiel</a></li>
<li><a href="#_fehlersuche">14. Fehlersuche</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Plugin, um Skripts ausführen (Shell, PHP, Ruby &#8230;&#8203;), HTTP-Anfragen, Abrufen von Informationen in XML oder JSON.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_plugin_konfiguration">1. Plugin Konfiguration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>La configuration est très simple, après téléchargement du plugin, il vous suffit de l&#8217;activer et c&#8217;est tout.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/script1.PNG" alt="script1">
</div>
</div>
<div class="paragraph">
<p>La seule option est l&#8217;endroit où jeedom met les scripts par défaut, il est conseillé de ne pas y toucher.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_geräte_konfiguration">2. Geräte Konfiguration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>La configuration des équipements Script est accessible à partir du menu plugin :</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/script2.PNG" alt="script2">
</div>
</div>
<div class="paragraph">
<p>Voilà à quoi ressemble la page du plugin Script (ici avec déjà 1 équipement) :</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/script3.PNG" alt="script3">
</div>
</div>
<div class="paragraph">
<p>Vous retrouvez ici la liste de vos Scripts. Une fois que vous cliquez sur un équipement vous obtenez :</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/script4.PNG" alt="script4">
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Comme à beaucoup d&#8217;endroits sur Jeedom, mettre la souris tout à gauche permet de faire apparaître un menu d&#8217;accès rapide (vous pouvez à partir de votre profil le laisser toujours visible).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Hier finden sie die ganze Konfiguration Ihrer Geräte:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Nom de l&#8217;équipement script</strong> : nom de votre équipement script</p>
</li>
<li>
<p><strong>Catégorie</strong> : les catégories de l&#8217;équipement (il peut appartenir à plusieurs catégories)</p>
</li>
<li>
<p><strong>aktivieren</strong> : erlaubt, Ihr Gerät aktiv zu machen</p>
</li>
<li>
<p><strong>Sichtbar</strong> : macht es auf dem Armaturenbrett sichtbar</p>
</li>
<li>
<p><strong>Eltern-Objekt</strong> : giebt an welchem Eltern Objekt das Gerät angehört</p>
</li>
<li>
<p><strong>Auto-actualisation</strong> : permet de spécifier un cron d&#8217;actualisation automatique pour toutes les commandes de type info.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Im unteren Bereich finden sie eine Liste der Befehle:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Nom</strong> : Ce champ contient le nom que vous souhaitez donner à votre commande/information.</p>
</li>
<li>
<p><strong>Icône</strong> : Ce champ permet d&#8217;associer une icône à votre nom (dans ce cas Jeedom remplace le nom par l’icône dans le dashboard).</p>
</li>
<li>
<p><strong>Type de script</strong> :</p>
<div class="ulist">
<ul>
<li>
<p>Le type http : permet d&#8217;envoyer une requête vers un équipement externe sans forcément attendre un retour de cette commande. L&#8217;exemple qui servira de support au type http sera la configuration d&#8217;une requête vers une Vera pour allumer une lumière.</p>
</li>
<li>
<p>Le type script : sert principalement à lancer des scripts internes à Jeedom. L&#8217;exemple qui servira de support au type script sera la configuration du script de monitoring température du raspberry disponible sur le market.</p>
</li>
<li>
<p>Le type XML : permet de rapatrier des informations encodées en XML depuis un équipement distant. L&#8217;exemple qui servira de support au type XML sera la configuration du script pour interroger un Eco-Device.</p>
</li>
<li>
<p>Le type JSON : permet de rapatrier des informations encodées en JSON depuis un équipement distant. L&#8217;exemple qui servira de support au type JSON sera la configuration du script pour interroger Sickbeard (ou XBMC).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>le type</strong> et le <strong>sous-type</strong></p>
</li>
<li>
<p>Le champ <strong>requête</strong></p>
<div class="ulist">
<ul>
<li>
<p>Ce champ doit contenir la requête en elle-même, ou le chemin du script si le champ "type de script" est script.
Le bouton "parcourir" : permet de sélectionner le fichier contenu dans le dossier interne à Jeedom.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Ce dossier est accessible en SSH dans /usr/share/nginx/www/jeedom/plugins/script/core/ressources/. Pour info, la commande SSH pour attribuer les droits www-data à un fichier est : sudo chown www-data:www-data NOMDUSCRIPT.EXTENSION. A savoir que pour exécuter un script, celui-ci doit avoir les droits www-data.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Le bouton <strong>Editer</strong> : permet d&#8217;éditer à l&#8217;aide d&#8217;un éditeur de code interne un des fichiers contenus dans le répertoire permettant l&#8217;accès au code du fichier.</p>
</li>
<li>
<p>Le bouton <strong>Nouveau</strong> : permet de créer un fichier de commande.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Ne pas oublier de saisir le nom du fichier ainsi que son extension complète sous peine de voir votre superbe script ne pas fonctionner. Sans extension Jeedom ne saura pas reconnaiître le langage associé à votre fichier. CF : Généralité
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Le bouton <strong>Supprimer</strong> : permet de supprimer un fichier de commande.</p>
</li>
<li>
<p>Le bouton <strong>Partager</strong> : un des plus importants, et après avoir validé les CGU développeurs dans votre profil sur le market, permet de partager votre création avec la communauté.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Le champ <strong>Options</strong> : Champ aux options variables suivant le choix du type de script.</p>
</li>
<li>
<p><strong>unité</strong> : unité de la donnée (peut être vide).</p>
</li>
<li>
<p><strong>min/max</strong> : bornes de la donnée (peuvent être vides).</p>
</li>
<li>
<p><strong>historiser</strong> : permet d&#8217;historiser la donnée.</p>
</li>
<li>
<p><strong>afficher</strong> : permet d&#8217;afficher la donnée sur le dashboard.</p>
</li>
<li>
<p><strong>évènement</strong> : retour en cas d&#8217;évènements. Dans le cas du RFXcom cette case doit toujours être cochée car on ne peut pas interroger un module RFXcom.</p>
</li>
<li>
<p><strong>Autoriser memcache</strong> : autorise Jeedom à utiliser du cache pour la valeur (par défaut 5 min) avant de réexécuter le script pour avoir à nouveau la valeur.</p>
</li>
<li>
<p><strong>Lifetime cache</strong> : permet de modifier la durée de vie du cache (par défaut 5 min).</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Il faut eviter,autant que possible, dans le chemin du script ou dans les parametres de celui-ci les caractères spéciaux. Les caractères autorisés étant : les chiffres, les lettres (majuscule ou minuscule)
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_le_choix_http">3. Le choix HTTP</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="../images/script5.PNG" alt="script5">
</div>
</div>
<div class="paragraph">
<p>Permet d&#8217;appeller une url ou de récupérer le retour d&#8217;une URL.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>une case à cocher "Ne pas vérifier SSL" : si cochée, permet à Jeedom de ne pas envoyer les champs "Utilisateur" et "Mot de passe" à la requête. Jeedom ne cherchera pas à s&#8217;identifier au site/machine distant.</p>
</li>
<li>
<p>une case à cocher "Autoriser réponse vide" : si cochée, permet à Jeedom de ne pas attendre de réponse, ou d&#8217;ignorer toute réponse à la trame émise. En général, on coche si Jeedom nous renvoit un "Curl error : Empty reply from server".</p>
</li>
<li>
<p>une case à cocher "Ne jamais remonter les erreurs" : permet de ne pas remonter d&#8217;alerte en cas d&#8217;erreur.</p>
</li>
<li>
<p>un champ "timeout" : sans être renseigné, le timeout de la requête vaut par défaut 2 secondes, sinon il vaut la valeur renseignée.</p>
</li>
<li>
<p>un champ "Essais au maximum" : 4 essais au maximum par défaut.</p>
</li>
<li>
<p>un champ "Utilisateur" : pour renseigner un nom d&#8217;utilisateur.</p>
</li>
<li>
<p>un champ "Mot de passe" : pour renseigner un mot de passe.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_le_choix_html">4. Le choix HTML</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="../images/script8.PNG" alt="script8">
</div>
</div>
<div class="paragraph">
<p>Permet de parser une page Web (fichier HTML) pour récupérer une valeur dessus. La syntaxe est la même que pour jquery.</p>
</div>
<div class="paragraph">
<p>Le champ option possède un champ "URL du fichier HTML" : ce champ contient donc le lien vers la machine hébergeant le fichier HTML en question.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_le_choix_xml">5. Le choix XML</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="../images/script6.PNG" alt="script6">
</div>
</div>
<div class="paragraph">
<p>Permet de récupérer du xml et d&#8217;aller chercher spécifiquement une valeur dedans.</p>
</div>
<div class="paragraph">
<p>Le champ option possède un champ "URL du fichier XML" : ce champ contient donc le lien vers la machine hébergeant le fichier XML en question.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Il n&#8217;est possible de récupérer que des valeurs, les attributs ne peuvent être récuperés.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_le_choix_json">6. Le choix JSON</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="../images/script7.PNG" alt="script7">
</div>
</div>
<div class="paragraph">
<p>Permet de récupérer du json et d&#8217;aller chercher spécifiquement une valeur dedans.</p>
</div>
<div class="paragraph">
<p>Le champ option possède	un champ "URL du fichier JSON" : ce champ contient donc le lien vers la machine hébergeant le fichier JSON en question.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exemple_http_pilotage_d_une_vera">7. Exemple HTTP : Pilotage d&#8217;une Vera</h2>
<div class="sectionbody">
<div class="paragraph">
<p>L&#8217;exemple est basé sur une Vera et consiste à piloter une ampoule dimmable.
Je ne vais pas m&#8217;étendre sur la manière de piloter une Vera par requête http, le forum TLD est rempli de réponses.
De plus, l&#8217;exemple correspond à mon type de matériel et devra être adapté au vôtre.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Une méthode pour ceux qui tâtonnent pour l&#8217;écriture de requêtes http, valider d&#8217;abord la syntaxe dans votre navigateur et seulement ensuite passer à la configuration sous Jeedom. Quand un script Action ne fonctionne pas, passer en script Info/Autre permet de voir l&#8217;erreur retournée.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Allons-y  :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On crée un équipement : par exemple LUM CUISINE (je pense qu&#8217;on a tous une cuisine sous la main)</p>
</li>
<li>
<p>On l&#8217;associe à un objet parent : par exemple VERA, moi ça me permet de centraliser toutes les commandes liées à la VERA sur un unique parent.</p>
</li>
<li>
<p>Choisissez votre catégorie.</p>
</li>
<li>
<p>Activez votre équipement, ne cochez pas visible, on verra un peu plus tard comment l&#8217;associer à un virtuel (plus sexy, plus WAF)</p>
</li>
<li>
<p>Pour l&#8217;auto-actualisation, ne rien mettre, il s&#8217;agit d&#8217;une commande impulsionnelle liée à un appui sur un bouton ou un scénario !</p>
</li>
<li>
<p>Ajoutez une commande script</p>
</li>
<li>
<p>Pensez à sauvegarder</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Erläuterung :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Nom : 100 % car on va allumer une lumière à pleine puissance</p>
</li>
<li>
<p>Type de script : http</p>
</li>
<li>
<p>Type : Action (c&#8217;est une commande)</p>
</li>
<li>
<p>Sous type : défaut</p>
</li>
<li>
<p>Requête :</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>http://&lt;IP_VERA&gt;:3480/data_request?id=lu_action&amp;output_format=json&amp;DeviceNum=12&amp;serviceId=urn:upnp-org:serviceId:Dimming1&amp;action=SetLoadLevelTarget&amp;newLoadlevelTarget=100</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
le "100" à la fin de la requête correspond au pourcentage de puissance à affecter donc mettre "0" à la fin de la requête correspond à éteindre l&#8217;ampoule.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Le bouton "test" vous permet de tester votre commande !</p>
</div>
<div class="paragraph">
<p>Vous pouvez donc multiplier les commandes dans le même équipement en mettant par exemple une commande à 60 % pour une lumière tamisée, créer une troisième à 30 % pour les déplacements nocturnes à associer dans un scénario, &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Il est aussi possible de créer une commande de type slider en mettant le tag #slider# dans la requête :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://&lt;IP_VERA&gt;:3480/data_request?id=lu_action&amp;output_format=json&amp;DeviceNum=12&amp;serviceId=urn:upnp-org:serviceId:Dimming1&amp;action=SetLoadLevelTarget&amp;newLoadlevelTarget=#slider#</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Si votre commande est de type message vous pouvez utiliser les tags #message# et #title#, idem pour une commande de type couleur avec le tag #color#
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exemple_http_envoyer_une_notification_à_xbmc">8. Exemple HTTP : Envoyer une notification à XBMC</h2>
<div class="sectionbody">
<div class="paragraph">
<p>But : Envoyer une notification vers XBMC lors de l&#8217;ouverture d&#8217;une porte d&#8217;entrée.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Nom : PUSH XBMC</p>
</li>
<li>
<p>Type de script : http</p>
</li>
<li>
<p>Type : Action (c&#8217;est une commande)</p>
</li>
<li>
<p>Sous-type : défaut</p>
</li>
<li>
<p>Requête :</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>http://IP_DE_XBMC:8080/jsonrpc?request={%22jsonrpc%22:%222.0%22,%22method%22:%22GUI.ShowNotification%22,%22params%22:{%22title%22:%22Mouvement%20Detecté%22,%22message%22:%22Porte%20Entrée%22},%22id%22:1}</pre>
</div>
</div>
<div class="paragraph">
<p>A vous de tester ça dans un scénario par exemple !</p>
</div>
<div class="paragraph">
<p>API XBMC <a href="http://wiki.xbmc.org/index.php?title=JSON-RPC_API/v6">ici</a> (seuls les champs notés "required" sont obligatoires)</p>
</div>
<div class="paragraph">
<p>But : Envoyer une notification vers XBMC lorsque la température tombe sous un certain seuil</p>
</div>
<div class="paragraph">
<p>Prenez l&#8217;exemple ci-dessus :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>remplacez "Mouvement%20Détecté" par "Risque%20de%20gel"</p>
</li>
<li>
<p>remplacez "Porte%20Entrée" par "Température%20extérieur%20:%20#[EXTERIEUR][EXTERIEUR][TEMPERATURE]#%20"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Testez sur un scénario <mark>[EXTERIEUR][EXTERIEUR][TEMPERATURE]</mark> &lt; 15 par exemple</p>
</div>
<div class="paragraph">
<p>Action : Lancez le script, via un équipement virtuel, lié à votre script !</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_skript_beispiel">9. Skript Beispiel</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Le plus sympa mais pas le plus simple à expliquer.</p>
</div>
<div class="paragraph">
<p>Pré-requis : savoir développer un script en php, python ou ruby.</p>
</div>
<div class="paragraph">
<p>Le script de monitoring température du Raspberry va servir d&#8217;exemple pour l&#8217;utilisation du type de script : Script</p>
</div>
<div class="paragraph">
<p>Après avoir téléchargé le script depuis le market, le bouton "Parcourir" vous permet de sélectionner le fichier temp_rasp.php.</p>
</div>
<div class="paragraph">
<p>Par curiosité, vous pouvez aller voir le contenu du fichier en appuyant sur le bouton "Editer", vous devriez obtenir le code suivant :</p>
</div>
<div class="paragraph">
<p>Ceci est un script php qui peut tout à fait être réutilisé hors Jeedom !</p>
</div>
<div class="listingblock">
<div class="content">
<pre> &lt;?php
    $temp = shell_exec("cat /sys/class/thermal/thermal_zone0/temp");
    $temp = $temp / 1000;
    $temp = round($temp,1);
    echo $temp
 ?&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Note : concrètement, c&#8217;est la fonction php "echo" qui va donner la valeur à Jeedom</p>
</div>
<div class="sect2">
<h3 id="_die_parameter">9.1. Die Parameter</h3>
<div class="paragraph">
<p>Récupérer les infos de Jeedom pour les exploiter dans un script. La récupération dépend du type de script utilisé :</p>
</div>
<div class="paragraph">
<p>Beispiel :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Dans la ligne : /usr/share/nginx/www/jeedom/plugins/script/core/ressources/MON_SCRIPT_PHP.php list , l&#8217;argument "list" est une chaîne de caractères (fixe) récupérée dans le script php grâce à la fonction suivante $argv[1] cf : Google pour plus de détails sur la récupération de paramètres en PHP.</p>
</li>
<li>
<p>Nous avons vu précédement qu&#8217;il était possible de récupérer des valeurs dynamiques à partir de Jeedom.</p>
</li>
<li>
<p>Dans la ligne : /usr/share/nginx/www/jeedom/plugins/script/core/ressources/radio.py VOL <mark>slider</mark> , l&#8217;argument "<mark>slider</mark>" est récupéré de cette façon argv[2]. Au moment de l&#8217;exécution du script par jeedom, il remplacera automatiquement <mark>slider</mark> par la valeur (numérique) du slider. cf : Google pour plus de détails sur la récupération de paramètres en Python.</p>
</li>
<li>
<p>Plus fort : Potentiellement, toutes les variables accessibles par Jeedom sont exploitables par le plugin script :</p>
<div class="ulist">
<ul>
<li>
<p>Vous voulez récupérer la valeur de la température de la cuisine pour l&#8217;historiser en dehors de Jeedom ?</p>
</li>
<li>
<p>Passer <mark>[CUISINE][CUISINE][Température]</mark> comme paramètre au script et Jeedom le remplacera par la valeur lue lors de l&#8217;envoi.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Préconisation pour tester les paramètres dans le script php :</p>
</div>
<div class="listingblock">
<div class="content">
<pre> if (isset($argv)) {
     foreach ($argv as $arg) {
         $argList = explode('=', $arg);
         if (isset($argList[0]) &amp;&amp; isset($argList[1])) {
             $_GET[$argList[0]] = $argList[1];
         }
     }
 }</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_einfaches_xml_beispiel">10. Einfaches XML Beispiel</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hier ist das Format des Xml-Typs :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;root&gt;
    &lt;led0&gt;1&lt;/led0&gt;
    &lt;leds&gt;
      &lt;led1&gt;toto&lt;/led1&gt;
    &lt;/leds&gt;
&lt;/root&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Si vous voulez la valeur de la led0 dans requête vous mettez led0.
Si vous voulez la valeur de la led1 qui est le fils de leds vous mettez leds &gt; led1.</p>
</div>
<div class="paragraph">
<p>Notez que l&#8217;élément racine &lt;root&gt; n&#8217;est pas à préciser dans le champ requête.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_komplexes_xml_beispiel">11. Komplexes XML Beispiel</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre> &lt;root&gt;
   &lt;led0&gt;1&lt;/led0&gt;
   &lt;leds&gt;
     &lt;led1&gt;toto&lt;/led1&gt;
   &lt;/leds&gt;
   &lt;leds&gt;
     &lt;led1&gt;tata&lt;/led1&gt;
   &lt;/leds&gt;
 &lt;/root&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Die Syntax lautet :</p>
</div>
<div class="paragraph">
<p>leds &gt; 1 &gt; led1 qui donne en réponse tata, 1 étant le numéro de rang du tableau !</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_json_beispiel">12. JSON Beispiel</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A l’instar du type XML, il est possible de lire des informations issues d&#8217;un retour JSON.</p>
</div>
<div class="paragraph">
<p>Pour expliquer, je vais me baser sur les informations JSON avec l&#8217;application Sickbeard (bouh &#8230;&#8203; cpasbien) mais ici seule la technique prime, pas l&#8217;outil !</p>
</div>
<div class="paragraph">
<p>L’accès à ce fichier est possible grâce à l&#8217;URL suivante :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://&lt;IP_DELAMACHINEQUIEBERGESICKBEARD&gt;:8083/api/XXXX/?cmd=history&amp;limit=3</pre>
</div>
</div>
<div class="paragraph">
<p>NOTE : XXXX est le numéro de clef api propre à chaque SICKBEARD.</p>
</div>
<div class="paragraph">
<p>Tout d&#8217;abord, avant de se lancer dans la configuration du plugin script JSON, il s&#8217;agit d&#8217;identifier correctement les infos à récupérer., car ici nous allons intégrer une notion de tableau dans les retours.</p>
</div>
<div class="paragraph">
<p>Valider l&#8217;affichage des informations à partir de votre navigateur (test sous Chrome).</p>
</div>
<div class="paragraph">
<p>Beispiel der Rückkehr :</p>
</div>
<div class="listingblock">
<div class="content">
<pre> {
     "data": [
         {
             "date": "2014-09-10 01:37",
             "episode": 4,
             "provider": "RNT",
             "quality": "SD TV",
             "resource": "XXX",
             "resource_path": "XXXX",
             "season": 2,
             "show_name": "Totovaalaplage S2E4",
             "status": "Downloaded",
             "tvdbid": XXXXX
         },
         {
             "date": "2014-09-10 01:36",
             "episode": 3,
             "provider": "RNT",
             "quality": "SD TV",
             "resource": "XXXX",
             "resource_path": "XXX",
             "season": 2,
             "show_name": "Totovaalaplage S2E3",
             "status": "Downloaded",
             "tvdbid": XXXXX
         },
         {
             "date": "2014-09-10 01:21",
             "episode": 1,
             "provider": "Cpasbien",
             "quality": "SD TV",
             "resource": "XXXX",
             "resource_path": "XXXX",
             "season": 1,
 ICI --&gt;     "show_name": "Totovaplusauski mais Totovaalaplage S1E1",
             "status": "Snatched",
             "tvdbid": XXXX
         }
     ],
     "message": "",
     "result": "success"
 }</pre>
</div>
</div>
<div class="paragraph">
<p>Dans l&#8217;hypothèse où nous voudrions retourner le show_name du 3ème élément en php (repéré ICI) , il faudrait faire : data &gt; 2 &gt;show_name, l&#8217;index du tableau de retour commençant à Zéro.</p>
</div>
<div class="paragraph">
<p>Dans cet exemple, le bouton "Tester" nous retournera "Totovaplusauski mais Totovaalaplage S1E1".</p>
</div>
<div class="paragraph">
<p>Details :</p>
</div>
<div class="paragraph">
<p>Notez la syntaxe de la commande Requête, elle est de type élément0 &gt; index du tableau &gt;  élément1</p>
</div>
<div class="paragraph">
<p>Nachteile :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>cette méthode ne permet que de récupérer un seul élément à la fois.</p>
</li>
<li>
<p>Si on désire retourner l&#8217;ensemble des valeurs de "show_name", ce n&#8217;est malheureusement pas possible, il faudra dupliquer le script autant de fois que nécessaire.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_html_beispiel">13. HTML Beispiel</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ici nous allons essayer de récupérer la dernière VDM.</p>
</div>
<div class="paragraph">
<p>Tout d&#8217;adord il faut configurer l&#8217;url :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://www.viedemerde.fr</pre>
</div>
</div>
<div class="paragraph">
<p>Ensuite il faut trouver le "chemin" de la dernière VDM. Pour ce faire, il faut aller sur le site puis faire clic droit sur l&#8217;élément voulu puis inspecter l&#8217;élément, on obtient :</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/script9.PNG" alt="script9">
</div>
</div>
<div class="paragraph">
<p>Là c&#8217;est la partie la plus complexe et qui demande un peu d&#8217;analyse. Ici mon texte est dans une balise "a" qui est lui dans un élément de type p qui est une div de class "post article". Il faut donc que je sélectionne le premier élément div de class "post" et "article" puis le premier élément p et que je récupère tout ce qui est dans les balises "a" qu&#8217;il contient. J&#8217;ai donc : "div.post.article:first p:first a".</p>
</div>
<div class="paragraph">
<p>Wir erhalten somit :</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/script10.PNG" alt="script10">
</div>
</div>
<div class="paragraph">
<p>Pour une actualisation en temps réel, il est possible de mettre un cron de mise à jour.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Lors de la mise en place d&#8217;un cron de mise à jour, Jeedom va automatiquement cocher la case Evènement, c&#8217;est tout à fait normal.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Voilà ensuite vous pouvez imaginer un scénario qui vous envoie par SMS la dernière VDM.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_fehlersuche">14. Fehlersuche</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Mes valeurs ne se rafraîchissent pas toutes seules</dt>
<dd>
<p>Vérifiez si, en mode expert, vous avez bien mis un auto-refresh.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>